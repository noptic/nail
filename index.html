<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>NAIL - A modular class creation tool</title>
  <link rel="stylesheet" href="css/foundation.css" />
<link href='http://fonts.googleapis.com/css?family=Roboto:400,400italic,700' rel='stylesheet' type='text/css'>
  <script src="js/vendor/custom.modernizr.js"></script>
  <link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/tomorrow-night-bright.min.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script>
    $(function(){
      $('code').attr('class','coffeescript');
      $.getScript('"http://yandex.st/highlightjs/7.3/highlight.min.js"');
      $(document).foundation();
    })
  </script>
  <style>
  body{font-family: 'Roboto', sans-serif;}
  header{
    background: url(images/lined.png) #444;
    padding: 1em;
    color: #fff;
    box-shadow: 0px 0px 32px 2px #000;
    font-size: 1.1em;
  }
  section h1{border-bottom: dotted #ccc 2px}
  section {margin-bottom: 3em}
  </style>
</head>
<body>
  <header>
	<div class="row">
                <div class="large-2 columns">
                  <img src="images/nail.png" />
                </div>
		<hgroup class="large-10 columns">
                  <h1 >NAIL</h1>
                  <h2>Simple Modular Class Creation</h2>
                </hgroup>
	</div>
  </header>
	<div class="row">
		<div class="section-container auto" data-section>
                  
<section class='section' id='./README.md'>
<h1>About</h1>
<p>Nail is a cutomizable, framework-independent tool for js/coffee class creation.</p>
<p>Every aspect of the class (properties, methods, inhitence) is handled by an
independent module.</p>
<p>All modules (incuding the core) can be replaced.</p>
<p>Creating your custom version of nail is easy:</p>
<pre><code>module.exports = require(&#39;nail-core&#39;).use(
    require &#39;nail-extend&#39;
    require &#39;nail-properties&#39;
    require &#39;nail-methods&#39;
    require &#39;./my/awesome/module.js&#39;
)</code></pre>
<p>This package contains the most common modules (&#39;nail-extend&#39;,&#39;nail-properties&#39;, &#39;nail-methods&#39;)</p>
<h2>Features</h2>
<ul>
<li>properties with combined setter getter method</li>
<li>methods with overload support</li>
<li>classic inheritance (prototype chain)</li>
<li>classes are added to a container (for example moduele.exports)</li>
<li>classes have a fully qualified name</li>
</ul>
<h2>Documentation</h2>
<p>You can find in depth descriptions on the features in the <a href="../../tree/master/docs">docs</a> directory.</p>
<h2>Example</h2>
<p>Let us define some classes:</p>
<pre><code>nail = require(&#39;nail&#39;)
nail.to exports, &#39;myPakage&#39;, MyParent:
    methods:
        init: (properties) -&gt;
            for name,value of properties
                @[name] value
        hello: -&gt; &#39;hello&#39;

nail.to exports, &#39;myPackage&#39;, MyChild:
    extend: exports.MyParent
    prperties:
        name:   &#39;anon&#39;
    methods:
        hello:
            0: -&gt; @hello(@name)&quot;
            n: (otherName) -&gt; &quot;hello #{name}&quot;

bob = new exports.Mychild(name: &#39;Bob&#39;)
bob.hello() #&quot;hello Bob&quot;
bob.name &#39;Holy Bob&#39;
bob.hello() #&quot;hello Holly Bob&quot;
bob.hello(&#39;stranger&#39;) #&quot;hello stranger&quot;</code></pre>

</section>
<section class='section' id='./docs/properties.coffee.md'>
<h1>Properties</h1>
<h2>About</h2>
<p>This script demonstartes how to add properties to a nail class.
It is written in literate coffee script and can be run as a nodeunit test.</p>
<h2>Setup</h2>
<pre><code>nail = require &#39;../lib/nail.js&#39;
module.exports.basics = {}
module.exports.basics.properties = {}</code></pre>
<h2>Creating Properties</h2>
<p>The followingcode will create a class with the property <code>foo</code>.</p>
<pre><code>module.exports.basics.properties =
  &quot;setUp&quot;: (done) -&gt;
    @classes = {} #serves as class container
    nail.to @classes, &#39;nail.example&#39;, MyClass:
      properties:
        foo:    &#39;bar&#39;
    @instance = new @classes.MyClass()
    done()</code></pre>
<h2>Get a Property</h2>
<p>For each property nail will craete a setter/ getter function.
To get the value of <code>foo</code> call <code>foo()</code> without an argument</p>
<pre><code>module.exports.basics.properties[&quot;get value&quot;] = (test) -&gt;
  test.expect 1
  test.equal @instance.foo(), &#39;bar&#39;,
    &quot;calling foo without arguments return the value of foo&quot;
  test.done()</code></pre>
<h2>Set Property</h2>
<p>To change a property  we call the same function but pass the new value as first argument.</p>
<pre><code>module.exports.basics.properties[&quot;set value&quot;] = (test) -&gt;
  test.expect 1
  @instance.foo(&#39;new value&#39;)
  test.equal @instance.foo(), &#39;new value&#39;
  test.done()</code></pre>
<h2>Generic get and set</h2>
<p>The value of <code>foo</code> is stored in <code>_foo</code>. When calling the function <code>foo</code></p>
<pre><code>module.exports.basics.properties[&quot;helper property&quot;] = (test) -&gt;
  test.expect 1
  @instance.foo(&#39;new value&#39;)
  test.equal @instance.foo(), @instance._foo
  test.done()</code></pre>
<p>All calls to the setter/getter are handled by the generic methods <code>get(name)</code>
and <code>set(name, value)</code>. If we change one of those methods we can customize the
behaviour of all get set operations.</p>
<p>In this example we will replace <code>set</code> with a dummy so the object can not be changed.</p>
<pre><code>module.exports.basics.properties[&quot;inmutable object&quot;] = (test) -&gt;
  test.expect 1
  @instance.set = ()-&gt;
  oldValue = @instance.foo()
  @instance.foo(&#39;useless set operation&#39;)
  test.equal @instance.foo(), oldValue
  test.done()</code></pre>
<p>By overriding <code>get</code>and <code>set</code> you can change where the real values are stored or
trigger events whenevr a vlue changes.</p>

</section>
<section class='section' id='./docs/methods.coffee.md'>
<h1>Methods</h1>
<h2>About</h2>
<p>This script demonstartes how to add methods to a nail class.
It is written in literate coffee script and can be run as a nodeunit test.</p>
<h2>Setup</h2>
<pre><code>nail = require &#39;../lib/nail.js&#39;
module.exports.basics = {}</code></pre>
<h2>Creating Methods:</h2>
<p>The followingcode will create a class with the method <code>hello()</code>.</p>
<pre><code>module.exports.basics.methods =
  &quot;setUp&quot;: (done) -&gt;
    @classes = {} #serves as class container
    nail.to @classes, &#39;nail.example&#39;, MyClass:
      methods:
        hello: -&gt; &#39;hello world&#39;
    @instance = new @classes.MyClass()
    done()

  &quot;calling a method&quot;: (test) -&gt;
    test.expect 1
    test.equal @instance.hello(), &#39;hello world&#39;
    test.done()</code></pre>
<h2>Oveloading:</h2>
<p>Nail supprts method overloading. One can provide different implementations,
for different numbers of arguments
 .
The following code will return &#39;hello world&#39; if no argument is passed.
If we pass &#39;sweety&#39; as the first argument it will return &#39;hello sweety&#39;.</p>
<p>Instead of using a function to implement <code>hello</code> we simply use an object whith the
number of arguments as proerty names and functions as a values.</p>
<pre><code>module.exports.basics.overload =
  &quot;setUp&quot;: (done) -&gt;
    @classes = {} #serves as class container
    nail.to @classes, &#39;nail.example&#39;, MyOverloadClass:
      methods:
        hello:
            0:-&gt; &#39;hello world&#39;
            1:(name)-&gt; &quot;hello #{name}&quot;

    @instance = new @classes.MyOverloadClass()
    done()

  &quot;calling a overloaded method&quot;: (test) -&gt;
    test.expect 2
    test.equal @instance.hello(), &#39;hello world&#39;
    test.equal @instance.hello(&#39;sweety&#39;), &#39;hello sweety&#39;
    test.done()</code></pre>
<h2>Strict Argument Number</h2>
<p>Calling <code>hello</code> with 2 or more arguments will cause an error because we only have
implementations taking 1 or 0 arguments.</p>
<p>While it is possible to create overloadsa which accept any numbers of arguments
(as descibed in the next section) we can use
these strict rules to create methods which require a fixed number of arguments.</p>
<pre><code>module.exports.basics[&#39;strict signature&#39;] =
  &quot;setUp&quot;: (done) -&gt;
    @classes = {} #serves as class container
    nail.to @classes, &#39;nail.example&#39;, MyStrictClass:
      methods:
        login:2:(name, password) -&gt;
            #do login stuff here
            return true

    @instance = new @classes.MyStrictClass()
    done()

  &quot;calling a strict method&quot;: (test) -&gt;
    test.expect 3
    test.ok @instance.login(&#39;master&#39;, &#39;bla573r&#39;)
    test.throws (()-&gt; @instance.login(&#39;master&#39;)), Error
    test.throws (()-&gt; @instance.login(&#39;master&#39;,&#39;bla573r&#39;,&#39;2much&#39;)), Error
    test.done()</code></pre>
<h2>Default Implemenation</h2>
<p>To support any number of arguments we can add an default implementtion. If the number of arguments passed to our method
does not match any explicit implementation the <code>n</code>implementation will be used.</p>
<pre><code>module.exports.basics[&#39;overload with default&#39;] =
  &quot;setUp&quot;: (done) -&gt;
    @classes = {} #serves as class container
    nail.to @classes, &#39;nail.example&#39;, MyOverloadWithDefaultClass:
      methods:
        hello:
            0:-&gt; &#39;hello world&#39;
            n:(name)-&gt; &quot;hello #{name}&quot;

    @instance = new @classes.MyOverloadWithDefaultClass()
    done()

  &quot;calling a overloaded method with default&quot;: (test) -&gt;
    test.expect 3
    test.equal @instance.hello(), &#39;hello world&#39;
    test.equal @instance.hello(&#39;sweety&#39;), &#39;hello sweety&#39;
    test.equal @instance.hello(&#39;sweety&#39;,&#39;rest&#39;,&#39;is&#39;,&#39;ignored&#39;), &#39;hello sweety&#39;
    test.done()</code></pre>

</section>
                </div>
	</div>

  <script>
  document.write('<script src=' +
  ('__proto__' in {} ? 'js/vendor/zepto' : 'js/vendor/jquery') +
  '.js><\/script>')
  </script>

  <script src="js/foundation.min.js"></script>

</body>
</html>

